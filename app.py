import streamlit as st
import tensorflow as tf
import streamlit as st
import numpy as np
import pandas as pd
import pickle
from keras.preprocessing.image import ImageDataGenerator
from keras.utils import to_categorical
from sklearn.model_selection import train_test_split
import matplotlib.pyplot as plt
import random
from tensorflow.keras.preprocessing.image import load_img
from tensorflow.keras.preprocessing.image import img_to_array
import PIL
import os
from PIL import Image, ImageOps
from google.oauth2 import service_account
from googleapiclient.discovery import build
from googleapiclient.http import MediaFileUpload
from oauth2client.service_account import ServiceAccountCredentials
from io import BytesIO
from googleapiclient.http import MediaIoBaseUpload
from gtts import gTTS
import tempfile


@st.cache(allow_output_mutation=True)
def load_model():
  model=tf.keras.models.load_model('model_v2b2.h5')
  return model
with st.spinner('Model is being loaded..'):
  model=load_model()




SCOPES  = ['https://www.googleapis.com/auth/drive.file']
SERVICE_ACCOUNT_FILE  = 'file.json'

st.write("<h1 style='text-align: center; background-color: #ebccff; color: #990033;'>Tomato Leaf Diseases Detection</h1>", unsafe_allow_html=True)
st.write("<h1 style='text-align: center; background-color: #ebccff; color: #5c0099;'>‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶™‡¶æ‡¶§‡¶æ‡¶∞ ‡¶∞‡ßã‡¶ó ‡¶®‡¶ø‡¶∞‡ßç‡¶£‡¶Ø‡¶º</h1>", unsafe_allow_html=True)

def text_to_speech(text, lang='en'):
    # Create a temporary file to store the audio
    with tempfile.NamedTemporaryFile(delete=False) as tf:
        tts = gTTS(text=text, lang=lang)
        tts.save(tf.name)

    # Return the file path for later use
    return tf.name




file = st.file_uploader("Please upload an Tomato leaf image file. / ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶™‡¶æ‡¶§‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶®", type=["jpg", "png", "jpeg"])


st.set_option('deprecation.showfileUploaderEncoding', False)

reference_link = "https://www.usda.gov/"
reference_text = "Tomato Diseases Solutions (English)"
reference_link_bn = "http://www.bari.gov.bd/"
reference_text_bn = "Tomato Diseases Solutions (Bangla)"


if file is None:
    st.text("No tomato leaf image is selected\n‡¶ï‡ßã‡¶®‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶™‡¶æ‡¶§‡¶æ‡¶∞ ‡¶õ‡¶¨‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡¶®‡¶ø")
else:

    credentials = service_account.Credentials.from_service_account_file(
        SERVICE_ACCOUNT_FILE, scopes=SCOPES
    )
    drive_service = build('drive', 'v3', credentials=credentials)

    # Upload the file to Google Drive
    file_metadata = {'name': file.name, 'parents': ['1ps9JTqK1N1HXVRdmQnLoeKVP1Dam4JuK']}
    media = MediaIoBaseUpload(BytesIO(file.read()), mimetype=file.type)
    response = drive_service.files().create(
        body=file_metadata, media_body=media, fields='id'
    ).execute()

    image = Image.open(file)
    st.image(image, use_column_width=True)

    image = image.resize((256,256), resample=PIL.Image.BICUBIC)
    img_arr = img_to_array(image)
    img_arr = np.expand_dims(img_arr, axis=0)
    pred = model.predict(img_arr)

    class_names = ['Tomato___Bacterial_spot', 'Tomato___Early_blight', 'Tomato___Late_blight', 'Tomato___Leaf_Mold', 'Tomato___Septoria_leaf_spot', 'Tomato___Spider_mites Two-spotted_spider_mite', 'Tomato___Target_Spot', 'Tomato___Tomato_Yellow_Leaf_Curl_Virus', 'Tomato___Tomato_mosaic_virus', 'Tomato___healthy']
    # Get the index of the maximum probability
    pred_index = np.argmax(pred)

    # Map the index to the corresponding class name
    pred_class = class_names[pred_index]

    voice_button_style = """
    height: 100px;
    width: 300px;
    font-size: 50px;
"""



    st.write(f"<div style='text-align: center;'><h3>Result = {pred_class}</h3></div>", unsafe_allow_html=True)


    if pred_class == 'Tomato___Bacterial_spot':

        bac_spot_en = "Result is Tomato Bacterial spot"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(bac_spot_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶∏‡ßç‡¶™‡¶ü </h3>", unsafe_allow_html=True)
        Bac_spot = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶∏‡ßç‡¶™‡¶ü"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(Bac_spot, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        english_text_bacterial_spot = """Solution :
1. Use copper-based fungicides for protection.
2. Practice crop rotation to disrupt bacterial life cycle.
3. Maintain garden hygiene by removing infected debris.
4. Plant resistant tomato varieties for long-term control."""

        bangla_text_bacterial_spot = """‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡¶æ‡¶∞ :
‡ßß. ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡¶ï‡ßç‡¶∑‡¶æ ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ï‡¶™‡¶æ‡¶∞-‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶´‡¶æ‡¶Ç‡¶ó‡¶ø‡¶∏‡¶æ‡¶á‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß®. ‡¶´‡¶∏‡¶≤ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶® ‡¶ï‡¶∞‡ßá ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ï‡¶ü‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ú‡ßÄ‡¶¨‡¶® ‡¶ö‡¶ï‡ßç‡¶∞ ‡¶¨‡¶ø‡¶ö‡ßç‡¶õ‡ßá‡¶¶ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß©. ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶§ ‡¶¶‡ßç‡¶∞‡¶¨‡ßç‡¶Ø‡¶æ‡¶ô‡ßç‡¶ï ‡¶∏‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶®‡ßá‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶¨‡¶æ‡¶ó‡¶æ‡¶® ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶∞‡¶ï‡ßç‡¶∑‡¶£‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß™. ‡¶¶‡ßÄ‡¶∞‡ßç‡¶ò‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶‡ßÄ ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß‡ßÄ ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ú‡¶æ‡¶§ ‡¶∞‡ßã‡¶™‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"""

        st.text(english_text_bacterial_spot)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_bacterial_spot, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_bacterial_spot)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_bacterial_spot, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")

    elif pred_class == 'Tomato___Early_blight':

        early_bli_en = "Result is Tomato Early blight"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(early_bli_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)

        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶Ü‡¶∞‡¶≤‡¶ø ‡¶¨‡ßç‡¶≤‡¶æ‡¶á‡¶ü </h3>", unsafe_allow_html=True)
        early_bli_bn = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶Ü‡¶∞‡¶≤‡¶ø ‡¶¨‡ßç‡¶≤‡¶æ‡¶á‡¶ü"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(early_bli_bn, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        
        english_text_early_bli = """Solution :
1. Remove infected leaves and destroy them to prevent spread.
2. Apply fungicides labeled for early blight control.
3. Practice crop rotation to reduce disease pressure.
4. Ensure proper spacing and ventilation for plants."""

        bangla_text_early_bli = """‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡¶æ‡¶∞ :
‡ßß. ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∞‡¶æ‡¶Æ‡¶ø‡¶§ ‡¶™‡¶æ‡¶§‡¶æ ‡¶Ö‡¶™‡¶∏‡¶æ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞ ‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ß‡ßç‡¶¨‡¶Ç‡¶∏ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß®. ‡¶™‡ßç‡¶∞‡¶æ‡¶•‡¶Æ‡¶ø‡¶ï ‡¶¨‡ßç‡¶≤‡¶æ‡¶á‡¶ü ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶≤‡ßá‡¶¨‡ßá‡¶≤‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶õ‡¶§‡ßç‡¶∞‡¶æ‡¶ï‡¶®‡¶æ‡¶∂‡¶ï ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß©. ‡¶´‡¶∏‡¶≤ ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶Ö‡¶®‡ßÅ‡¶∂‡ßÄ‡¶≤‡¶® ‡¶ï‡¶∞‡ßá ‡¶∞‡ßã‡¶ó‡ßá‡¶∞ ‡¶ö‡¶æ‡¶™ ‡¶ï‡¶Æ‡¶æ‡¶®‡ßã ‡¶Ø‡¶æ‡¶Ø‡¶º‡•§
‡ß™. ‡¶ó‡¶æ‡¶õ‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶ö‡¶ø‡¶§ ‡¶∏‡ßç‡¶•‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶æ‡¶§‡¶æ‡¶∏‡¶ö‡¶æ‡¶≤‡¶®‡¶æ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"""

        st.text(english_text_early_bli)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_early_bli, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_early_bli)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_early_bli, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")

        


    elif pred_class == 'Tomato___Late_blight':

        late_blt_en = "Result is Tomato Late blight"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(late_blt_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)

        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶≤‡ßá‡¶ü ‡¶¨‡ßç‡¶≤‡¶æ‡¶á‡¶ü</h3>", unsafe_allow_html=True)
        
        late_blt_bn = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶≤‡ßá‡¶ü ‡¶¨‡ßç‡¶≤‡¶æ‡¶á‡¶ü"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(late_blt_bn, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        
        english_text_late_bli = """Solution :
1. Apply fungicides containing copper to control tomato late blight.
2. Remove infected leaves and destroy them to prevent disease spread.
3. Choose blight-resistant tomato varieties for planting.
4. Ensure proper spacing and ventilation in tomato plants to reduce humidity."""

        bangla_text_late_bli = """‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡¶æ‡¶∞ :
‡ßß. ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶≤‡ßá‡¶ü ‡¶¨‡ßç‡¶≤‡¶æ‡¶á‡¶ü ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£‡ßá ‡¶ï‡¶™‡¶æ‡¶∞ ‡¶ß‡¶æ‡¶§‡ßÅ‡¶ï‡ßá ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶´‡¶Ç‡¶ó‡¶ø‡¶∏‡¶æ‡¶á‡¶° ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß®. ‡¶Ü‡¶ï‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶§ ‡¶™‡¶æ‡¶§‡¶æ ‡¶∏‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶´‡ßá‡¶≤‡ßá ‡¶¶‡¶ø‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∏‡ßá‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶ß‡ßç‡¶¨‡¶Ç‡¶∏ ‡¶ï‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶® ‡¶∞‡ßã‡¶ó ‡¶™‡ßç‡¶∞‡¶∏‡¶æ‡¶∞‡¶£ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§
‡ß©. ‡¶ö‡¶Ø‡¶º‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶∏‡¶Æ‡ßÅ‡¶¶‡ßç‡¶∞‡ßÄ‡¶ï ‡¶™‡ßç‡¶∞‡¶ï‡¶æ‡¶∞‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶ï‡ßÉ‡¶∑‡¶ø‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ø‡¶æ ‡¶¨‡ßç‡¶≤‡¶æ‡¶á‡¶ü ‡¶∞‡ßã‡¶ó‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡ßá‡•§
‡ß™. ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ó‡¶æ‡¶õ‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶∏‡ßç‡¶•‡¶æ‡¶®‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶™‡ßç‡¶∞‡¶¶‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ï‡¶æ‡¶´‡ßá‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶∂‡ßÄ‡¶§‡¶ï‡¶§‡¶æ ‡¶π‡ßç‡¶∞‡¶æ‡¶∏ ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶™‡ßç‡¶∞‡¶æ‡¶Ø‡¶º‡¶∂‡¶á ‡¶¨‡¶æ‡¶§‡¶æ‡¶∏ ‡¶™‡ßç‡¶∞‡¶¨‡ßá‡¶∂ ‡¶ï‡¶∞‡¶æ‡¶®‡•§"""

        st.text(english_text_late_bli)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_late_bli, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_late_bli)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_late_bli, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")
        


    elif pred_class == 'Tomato___Leaf_Mold':

        leaf_mold_en = "Result is Tomato Leaf Mold"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(leaf_mold_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)

        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶≤‡¶ø‡¶´ ‡¶Æ‡ßã‡¶≤‡ßç‡¶° </h3>", unsafe_allow_html=True)

        leaf_mold_bn = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶≤‡¶ø‡¶´ ‡¶Æ‡ßã‡¶≤‡ßç‡¶°"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(leaf_mold_bn, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        
        english_text_leaf_mold = """Solution :
1. Remove infected leaves and destroy them; avoid overhead watering to control tomato leaf mold.
2. Apply fungicides with chlorothalonil as a preventive measure.
3. Ensure proper plant spacing and ventilation for reduced humidity.
4. Use resistant tomato varieties if available."""

        bangla_text_leaf_mold = """‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡¶æ‡¶∞ :
‡ßß. ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∞‡¶Æ‡¶ø‡¶§ ‡¶™‡¶æ‡¶§‡¶æ ‡¶Ö‡¶™‡¶∏‡¶æ‡¶∞‡¶£ ‡¶è‡¶¨‡¶Ç ‡¶§‡¶æ‡¶¶‡ßá‡¶∞ ‡¶ß‡ßç‡¶¨‡¶Ç‡¶∏; ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶™‡¶æ‡¶§‡¶æ‡¶∞ ‡¶õ‡¶æ‡¶Å‡¶ö ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ì‡¶≠‡¶æ‡¶∞‡¶π‡ßá‡¶° ‡¶ú‡¶≤ ‡¶è‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡ßá ‡¶ö‡¶≤‡ßÅ‡¶®‡•§
‡ß®. ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß‡¶Æ‡ßÇ‡¶≤‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶π‡¶ø‡¶∏‡¶æ‡¶¨‡ßá ‡¶ï‡ßç‡¶≤‡ßã‡¶∞‡ßã‡¶•‡¶æ‡¶≤‡ßã‡¶®‡¶ø‡¶≤‡ßá‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶õ‡¶§‡ßç‡¶∞‡¶æ‡¶ï‡¶®‡¶æ‡¶∂‡¶ï ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß©. ‡¶ï‡¶Æ ‡¶Ü‡¶∞‡ßç‡¶¶‡ßç‡¶∞‡¶§‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶â‡¶¶‡ßç‡¶≠‡¶ø‡¶¶‡ßá‡¶∞ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶ß‡¶æ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶¨‡¶æ‡¶Ø‡¶º‡ßÅ‡¶ö‡¶≤‡¶æ‡¶ö‡¶≤ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß™. ‡¶™‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ ‡¶ó‡ßá‡¶≤‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß‡ßÄ ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã‡¶∞ ‡¶ú‡¶æ‡¶§ ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"""

        st.text(english_text_leaf_mold)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_leaf_mold, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_leaf_mold)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_leaf_mold, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")


    elif pred_class == 'Tomato___Septoria_leaf_spot':

        septo_en = "Result is Tomato Septoria leaf spot"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(septo_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)

        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßã‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶≤‡¶ø‡¶´ ‡¶∏‡ßç‡¶™‡¶ü </h3>", unsafe_allow_html=True)

        septo_bn = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßã‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ‡¶≤ ‡¶≤‡¶ø‡¶´ ‡¶∏‡ßç‡¶™‡¶ü"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(septo_bn, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        
        english_text_septo = """Solution :
1. Remove infected leaves and dispose of them far from the field to manage Septoria leaf spot.
2. Apply fungicides containing chlorothalonil or copper-based products.
3. Water the plants at ground level, avoiding overhead irrigation, to reduce leaf wetness.
4. Crop rotation and planting resistant tomato varieties can be effective preventive measures."""

        bangla_text_septo = """‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡¶æ‡¶∞ :
‡ßß. ‡¶∏‡ßá‡¶™‡ßç‡¶ü‡ßã‡¶∞‡¶ø‡¶Ø‡¶º‡¶æ ‡¶™‡¶æ‡¶§‡¶æ‡¶∞ ‡¶¶‡¶æ‡¶ó ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶∏‡¶Ç‡¶ï‡ßç‡¶∞‡¶æ‡¶Æ‡¶ø‡¶§ ‡¶™‡¶æ‡¶§‡¶æ‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶∏‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶´‡ßá‡¶≤‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ï‡ßç‡¶∑‡ßá‡¶§ ‡¶•‡ßá‡¶ï‡ßá ‡¶¶‡ßÇ‡¶∞‡ßá ‡¶´‡ßá‡¶≤‡ßá ‡¶¶‡¶ø‡¶®‡•§
‡ß®. ‡¶ï‡ßç‡¶≤‡ßã‡¶∞‡ßã‡¶•‡¶æ‡¶≤‡ßã‡¶®‡¶ø‡¶≤ ‡¶¨‡¶æ ‡¶§‡¶æ‡¶Æ‡¶æ-‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶™‡¶£‡ßç‡¶Ø‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶õ‡¶§‡ßç‡¶∞‡¶æ‡¶ï‡¶®‡¶æ‡¶∂‡¶ï ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß©. ‡¶™‡¶æ‡¶§‡¶æ‡¶∞ ‡¶Ü‡¶∞‡ßç‡¶¶‡ßç‡¶∞‡¶§‡¶æ ‡¶ï‡¶Æ‡¶æ‡¶§‡ßá ‡¶ì‡¶≠‡¶æ‡¶∞‡¶π‡ßá‡¶° ‡¶∏‡ßá‡¶ö ‡¶è‡¶°‡¶º‡¶ø‡¶Ø‡¶º‡ßá ‡¶ó‡¶æ‡¶õ‡¶ï‡ßá ‡¶Æ‡¶æ‡¶ü‡¶ø‡¶∞ ‡¶∏‡ßç‡¶§‡¶∞‡ßá ‡¶ú‡¶≤ ‡¶¶‡¶ø‡¶®‡•§
‡ß™. ‡¶∂‡¶∏‡ßç‡¶Ø ‡¶Ü‡¶¨‡¶∞‡ßç‡¶§‡¶® ‡¶è‡¶¨‡¶Ç ‡¶∞‡ßã‡¶™‡¶£ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß‡ßÄ ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ú‡¶æ‡¶§ ‡¶ï‡¶æ‡¶∞‡ßç‡¶Ø‡¶ï‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß‡¶Æ‡ßÇ‡¶≤‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§"""

        st.text(english_text_septo)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_septo, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_septo)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_septo, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")



    elif pred_class == 'Tomato___Spider_mites Two-spotted_spider_mite':

        spider_en = "Result is Tomato Spider mites Two spotted spider mite"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(spider_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)

        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶∏‡ßç‡¶™‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶á‡¶ü‡¶∏ ‡¶ü‡ßÅ-‡¶∏‡ßç‡¶™‡¶ü‡ßá‡¶° ‡¶∏‡ßç‡¶™‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶á‡¶ü </h3>", unsafe_allow_html=True)

        spider_bn = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶∏‡ßç‡¶™‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶á‡¶ü‡¶∏ ‡¶ü‡ßÅ-‡¶∏‡ßç‡¶™‡¶ü‡ßá‡¶° ‡¶∏‡ßç‡¶™‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶á‡¶ü"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(spider_bn, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        
        english_text_spider = """Solution :
1. Spray plants with a strong jet of water to dislodge spider mites.
2. Apply insecticidal soap or neem oil to control the mite population.
3. Introduce predatory mites or ladybugs to feed on the spider mites.
4. Maintain proper plant hygiene and avoid overcrowding to prevent mite infestations."""

        bangla_text_spider = """‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡¶æ‡¶∞ :
‡ßß. ‡¶∏‡ßç‡¶™‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶á‡¶ü‡¶∏ ‡¶Ö‡¶™‡¶∏‡¶æ‡¶∞‡¶£‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶è‡¶ï‡¶ü‡¶ø ‡¶∂‡¶ï‡ßç‡¶§‡¶ø‡¶∂‡¶æ‡¶≤‡ßÄ ‡¶ú‡ßá‡¶ü ‡¶ú‡¶≤ ‡¶¶‡¶ø‡¶Ø‡¶º‡ßá ‡¶â‡¶¶‡ßç‡¶≠‡¶ø‡¶¶ ‡¶∏‡ßç‡¶™‡ßç‡¶∞‡ßá ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß®. ‡¶Æ‡¶æ‡¶á‡¶ü ‡¶ú‡¶®‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ï‡¶∞‡¶§‡ßá ‡¶ï‡ßÄ‡¶ü‡¶®‡¶æ‡¶∂‡¶ï ‡¶∏‡¶æ‡¶¨‡¶æ‡¶® ‡¶¨‡¶æ ‡¶®‡¶ø‡¶Æ ‡¶§‡ßá‡¶≤ ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß©. ‡¶∏‡ßç‡¶™‡¶æ‡¶á‡¶°‡¶æ‡¶∞ ‡¶Æ‡¶æ‡¶á‡¶ü ‡¶ñ‡¶æ‡¶ì‡¶Ø‡¶º‡¶æ‡¶®‡ßã‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶∂‡¶ø‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶Æ‡¶æ‡¶á‡¶ü ‡¶¨‡¶æ ‡¶≤‡ßá‡¶°‡¶ø‡¶¨‡¶æ‡¶ó‡ßá‡¶∞ ‡¶™‡¶∞‡¶ø‡¶ö‡¶Ø‡¶º ‡¶¶‡¶ø‡¶®‡•§
‡ß™. ‡¶∏‡¶†‡¶ø‡¶ï ‡¶â‡¶¶‡ßç‡¶≠‡¶ø‡¶¶‡ßá‡¶∞ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø‡¶¨‡¶ø‡¶ß‡¶ø ‡¶¨‡¶ú‡¶æ‡¶Ø‡¶º ‡¶∞‡¶æ‡¶ñ‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Æ‡¶æ‡¶á‡¶ü‡ßá‡¶∞ ‡¶â‡¶™‡¶¶‡ßç‡¶∞‡¶¨ ‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶Ö‡¶§‡¶ø‡¶∞‡¶ø‡¶ï‡ßç‡¶§ ‡¶≠‡¶ø‡¶°‡¶º ‡¶è‡¶°‡¶º‡¶æ‡¶®‡•§"""

        st.text(english_text_spider)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_spider, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_spider)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_spider, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")
       


    elif pred_class == 'Tomato___Target_Spot':

        target_en = "Result is Tomato Target Spot"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(target_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)

        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ü‡¶æ‡¶∞‡¶ó‡ßá‡¶ü ‡¶∏‡ßç‡¶™‡¶ü </h3>", unsafe_allow_html=True)

        target_bn = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ü‡¶æ‡¶∞‡¶ó‡ßá‡¶ü ‡¶∏‡ßç‡¶™‡¶ü"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(target_bn, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        
        english_text_target = """Solution :
1. Remove and destroy infected leaves immediately.
2. Apply copper-based fungicides to control the disease.
3. Ensure proper air circulation and avoid overhead watering.
4. Plant resistant tomato varieties."""

        bangla_text_target = """‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡¶æ‡¶∞ :
‡ßß. ‡¶∏‡¶ô‡ßç‡¶ó‡ßá ‡¶∏‡¶ô‡ßç‡¶ó‡ßá ‡¶Ü‡¶ï‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶§ ‡¶™‡¶æ‡¶§‡¶æ ‡¶∏‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶®‡¶ø‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ß‡ßç‡¶¨‡¶Ç‡¶∏ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶®‡•§
‡ß®. ‡¶∞‡ßã‡¶ó ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶§‡¶æ‡¶Æ‡¶æ ‡¶≠‡¶ø‡¶§‡ßç‡¶§‡¶ø‡¶ï ‡¶´‡¶æ‡¶Ç‡¶ó‡¶ø‡¶∏‡¶æ‡¶á‡¶° ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ó ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß©. ‡¶â‡¶™‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶¨‡¶æ‡¶Ø‡¶º‡ßÅ ‡¶™‡¶∞‡¶ø‡¶™‡ßç‡¶∞‡ßá‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡¶æ ‡¶®‡¶ø‡¶∂‡ßç‡¶ö‡¶ø‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ì‡¶≠‡¶æ‡¶∞‡¶π‡ßá‡¶° ‡¶ì‡¶Ø‡¶º‡¶æ‡¶ü‡¶æ‡¶∞‡¶ø‡¶Ç ‡¶è‡¶°‡¶º‡¶æ‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß™. ‡¶∞‡ßã‡¶ó ‡¶∏‡¶π‡¶ø‡¶∑‡ßç‡¶£‡ßÅ ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ú‡¶æ‡¶§‡¶ø‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶ó‡¶æ‡¶õ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"""

        st.text(english_text_target)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_target, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_target)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_target, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")
       



    elif pred_class == 'Tomato___Tomato_Yellow_Leaf_Curl_Virus':

        yellow_en = "Result is Tomato Yellow Leaf Curl Virust"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(yellow_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)

        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶á‡¶Ø‡¶º‡ßá‡¶≤‡ßã ‡¶≤‡¶ø‡¶´ ‡¶ï‡¶æ‡¶∞‡ßç‡¶≤ ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶∏ </h3>", unsafe_allow_html=True)
        
        yellow_bn = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶á‡¶Ø‡¶º‡ßá‡¶≤‡ßã ‡¶≤‡¶ø‡¶´ ‡¶ï‡¶æ‡¶∞‡ßç‡¶≤ ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶∏"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(yellow_bn, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        
        english_text_yellow = """Solution :
1. Remove and destroy infected plants.
2. Control whiteflies, the virus vector, using insecticides.
3. Plant virus-resistant tomato varieties.
4. Use reflective mulches to deter whiteflies."""

        bangla_text_yellow = """‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡¶æ‡¶∞ :
‡ßß. ‡¶Ü‡¶ï‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶§ ‡¶ó‡¶æ‡¶õ‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶∏‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶®‡¶ø‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ß‡ßç‡¶¨‡¶Ç‡¶∏ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶®‡•§
‡ß®. ‡¶™‡ßã‡¶ï‡¶æ‡¶Æ‡¶æ‡¶ï‡¶°‡¶º ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ï‡ßÄ‡¶ü‡¶®‡¶æ‡¶∂‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß©. ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶∏ ‡¶∏‡¶π‡¶ø‡¶∑‡ßç‡¶£‡ßÅ ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ú‡¶æ‡¶§‡¶ø‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶ó‡¶æ‡¶õ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß™. ‡¶∏‡¶æ‡¶¶‡¶æ ‡¶Æ‡¶æ‡¶õ‡¶ø ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡¶§‡ßá ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶´‡¶≤‡¶ø‡¶§ ‡¶Æ‡¶æ‡¶≤‡¶ö ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"""

        st.text(english_text_yellow)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_yellow, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_yellow)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_yellow, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")
       

        


    elif pred_class == 'Tomato___Tomato_mosaic_virus':

        mos_en = "Result is Tomato mosaic virus"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(mos_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)

        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶Æ‡ßã‡¶ú‡¶æ‡¶á‡¶ï ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶∏ </h3>", unsafe_allow_html=True)
        mos_bn = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶Æ‡ßã‡¶ú‡¶æ‡¶á‡¶ï ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶∏"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(mos_bn, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        
        english_text_mos = """Solution :
1. Remove and destroy infected plants.
2. Control aphids, which can spread the virus, using insecticides.
3. Plant virus-resistant tomato varieties.
4. Practice good hygiene and sanitation to prevent the virus's spread."""

        bangla_text_mos = """‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶ï‡¶æ‡¶∞ :
‡ßß. ‡¶Ü‡¶ï‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶§ ‡¶ó‡¶æ‡¶õ‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶∏‡¶∞‡¶ø‡¶Ø‡¶º‡ßá ‡¶®‡¶ø‡¶® ‡¶è‡¶¨‡¶Ç ‡¶ß‡ßç‡¶¨‡¶Ç‡¶∏ ‡¶ï‡¶∞‡ßá ‡¶¶‡¶ø‡¶®‡•§
‡ß®. ‡¶ï‡ßÄ‡¶ü‡¶®‡¶æ‡¶∂‡¶ï ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶è‡¶´‡¶ø‡¶° ‡¶®‡¶ø‡¶Ø‡¶º‡¶®‡ßç‡¶§‡ßç‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®, ‡¶Ø‡¶æ ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶∏ ‡¶õ‡¶°‡¶º‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá‡•§
‡ß©. ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶∏ ‡¶∏‡¶π‡¶ø‡¶∑‡ßç‡¶£‡ßÅ ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ú‡¶æ‡¶§‡¶ø‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶ó‡¶æ‡¶õ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß™. ‡¶≠‡¶æ‡¶á‡¶∞‡¶æ‡¶∏ ‡¶õ‡¶°‡¶º‡¶æ‡¶®‡ßã‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∞‡ßã‡¶ß‡ßá ‡¶≠‡¶æ‡¶≤ ‡¶∏‡ßç‡¶¨‡¶æ‡¶∏‡ßç‡¶•‡ßç‡¶Ø ‡¶ì ‡¶∏‡ßç‡¶Ø‡¶æ‡¶®‡¶ø‡¶ü‡ßá‡¶∂‡¶® ‡¶Ö‡¶®‡ßÅ‡¶∑‡ßç‡¶†‡¶æ‡¶® ‡¶Ö‡¶®‡ßÅ‡¶∏‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"""

        st.text(english_text_mos)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_mos, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_mos)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_mos, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")
       
        


    elif pred_class == 'Tomato___healthy':

        hel_en = "Result is Tomato Healthy"
        if st.button("üîä Speak (English Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_en = text_to_speech(hel_en, lang='en-in')
          st.audio(audio_file_path_en, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)

        st.write("<h3 style='text-align: center;'>‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶π‡ßá‡¶≤‡¶¶‡¶ø </h3>", unsafe_allow_html=True)

        hel_bn = "‡¶´‡¶≤‡¶æ‡¶´‡¶≤ : ‡¶õ‡¶¨‡¶ø‡¶ü‡¶ø ‡¶π‡¶≤‡ßã ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶π‡ßá‡¶≤‡¶¶‡¶ø"
        if st.button("üîä Speak (Bengali Result)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(hel_bn, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        
        english_text_hel = """Ways to keep healthy :
1. Provide adequate sunlight, water, and nutrients.
2. Monitor for pests and diseases and take prompt action if any issues arise.
3. Prune the tomato plants to improve air circulation.
4. Use mulch to conserve moisture and suppress weeds."""

        bangla_text_hel = """‡¶π‡ßá‡¶≤‡¶¶‡¶ø ‡¶∞‡¶æ‡¶ñ‡¶æ‡¶∞ ‡¶â‡¶™‡¶æ‡¶Ø‡¶º :
‡ßß. ‡¶Ø‡¶•‡¶æ‡¶Ø‡¶• ‡¶∏‡ßÇ‡¶∞‡ßç‡¶Ø‡ßá‡¶∞ ‡¶Ü‡¶≤‡ßã, ‡¶™‡¶æ‡¶®‡¶ø ‡¶è‡¶¨‡¶Ç ‡¶™‡ßÅ‡¶∑‡ßç‡¶ü‡¶ø ‡¶∏‡¶∞‡¶¨‡¶∞‡¶æ‡¶π ‡¶ï‡¶∞‡ßÅ‡¶®‡•§
‡ß®. ‡¶™‡ßã‡¶ï‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶∞‡ßã‡¶ó‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶®‡¶ú‡¶∞‡¶¶‡¶æ‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßá ‡¶¶‡ßç‡¶∞‡ßÅ‡¶§ ‡¶ï‡¶∞‡ßç‡¶Æ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶®‡¶ø‡¶®‡•§
‡ß©. ‡¶ü‡¶Æ‡ßá‡¶ü‡ßã ‡¶ó‡¶æ‡¶õ‡¶ó‡ßÅ‡¶≤‡¶ø ‡¶õ‡¶æ‡¶Å‡¶ü‡ßÅ‡¶® ‡¶Ø‡¶æ‡¶§‡ßá ‡¶¨‡¶æ‡¶Ø‡¶º‡ßÅ ‡¶™‡¶∞‡¶ø‡¶™‡ßç‡¶∞‡ßá‡¶ï‡ßç‡¶∑‡¶ø‡¶§‡¶æ ‡¶â‡¶®‡ßç‡¶®‡¶§ ‡¶π‡¶Ø‡¶º‡•§
‡ß™. ‡¶Ü‡¶∞‡ßç‡¶¶‡ßç‡¶∞‡¶§‡¶æ ‡¶∏‡¶Ç‡¶∞‡¶ï‡ßç‡¶∑‡¶£ ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶ó‡¶æ‡¶õ‡¶æ ‡¶¶‡¶Æ‡¶® ‡¶ï‡¶∞‡¶§‡ßá ‡¶Æ‡¶æ‡¶≤‡ßç‡¶ö ‡¶¨‡ßç‡¶Ø‡¶¨‡¶π‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"""

        st.text(english_text_hel)


        if st.button("üîä Speak (English)"):
   
          audio_file_path_en_in = text_to_speech(english_text_hel, lang='en-in')
          st.audio(audio_file_path_en_in, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)


        st.text(bangla_text_hel)
        if st.button("üîä Speak (Bengali)"):
        # Convert the text to speech and play the audio
          audio_file_path_bn = text_to_speech(bangla_text_hel, lang='bn')
          st.audio(audio_file_path_bn, format='audio/mp3')
          st.write(f'<style>.css-1q5b6h4 {{ {voice_button_style} }}</style>', unsafe_allow_html=True)
        # Display the reference with the link
        st.write(f"Reference 1 : [{reference_text}]({reference_link})")
        st.write(f"Reference 2 : [{reference_text_bn}]({reference_link_bn})")
       





